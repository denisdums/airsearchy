{"version":3,"file":"index.js","mappings":"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","sources":["webpack://airsearchy/./src/components/Results.js","webpack://airsearchy/./src/components/Searchbar.js","webpack://airsearchy/./src/components/Thumbnail.js","webpack://airsearchy/./src/config/api.config.js","webpack://airsearchy/./src/factories/result.factory.js","webpack://airsearchy/./src/factories/results.factory.js","webpack://airsearchy/./src/repositories/search.repository.js","webpack://airsearchy/./src/services/search.service.js","webpack://airsearchy/./node_modules/react-loading-skeleton/dist/skeleton.css","webpack://airsearchy/./src/assets/style/app.css","webpack://airsearchy/external window \"React\"","webpack://airsearchy/external window [\"wp\",\"element\"]","webpack://airsearchy/./node_modules/react-loading-skeleton/dist/index.mjs","webpack://airsearchy/webpack/bootstrap","webpack://airsearchy/webpack/runtime/compat get default export","webpack://airsearchy/webpack/runtime/define property getters","webpack://airsearchy/webpack/runtime/hasOwnProperty shorthand","webpack://airsearchy/webpack/runtime/make namespace object","webpack://airsearchy/./src/index.js"],"sourcesContent":["const {Component} = wp.element;\nimport {Thumbnail} from \"./Thumbnail\";\nimport Skeleton from 'react-loading-skeleton'\nimport 'react-loading-skeleton/dist/skeleton.css'\n\nexport class Results extends Component {\n    render() {\n        if (this.props.search !== '' && this.props.results.length > 0) {\n            return (\n                <ul className='air-searchy-results'>\n                    {this.props.results.map(result => (\n                        <li key={result.id}>\n                            <a href={result.url} className='air-searchy-result'>\n                                {result.thumbnail ? (<Thumbnail thumbnail={result.thumbnail}/>) : ''}\n                                <div className='air-searchy-result-text'>\n                                    <span>{result.title}</span>\n                                    <small>{result.typeLabel}</small>\n                                </div>\n                            </a>\n                        </li>\n                    ))}\n                </ul>\n            );\n        } else if (this.props.search !== '' && !this.props.loading) {\n            return (\n                <ul className='air-searchy-no-results-container'>\n                    <li className='air-searchy-no-results-wrapper'>\n                        <span>Pas de résultat trouvé pour \"{this.props.search}\"</span></li>\n                </ul>\n            );\n        }\n        if (this.props.loading) {\n            return (\n                <ul className='air-searchy-results'>\n                    <li>\n                        <div className='air-searchy-result'>\n                            <div className='air-searchy-result-thumbnail-skeleton air-searchy-thumbnail-container'>\n                                <Skeleton/>\n                            </div>\n                            <div className='air-searchy-result-text air-searchy-result-text-skeleton'>\n                                <span><Skeleton/></span>\n                                <small><Skeleton/></small>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n            )\n        } else return ('');\n\n    }\n}\n","import searchService from \"../services/search.service\";\n\nconst {Component} = wp.element;\nimport {Results} from \"./Results\";\n\nexport class Searchbar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {results: [], search: '', loading: false};\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    render() {\n        return (\n            <div className='air-searchy-wrapper'>\n                <input placeholder='Recherche...'\n                       type='search'\n                       className='air-searchy-input'\n                       onChange={this.handleChange}/>\n                <Results results={this.state.results} search={this.state.search} loading={this.state.loading}/>\n            </div>\n        );\n    }\n\n    handleChange({target}) {\n        if (target.value === '') {\n            this.setState({search: target.value})\n            this.setState({results: []})\n            this.setState({loading: false});\n            return;\n        }\n\n        let tempSearch = target.value;\n        this.setState({search: target.value});\n        this.setState({loading: true});\n\n        setTimeout(async () => {\n            if (tempSearch !== this.state.search) {\n                return;\n            }\n            const results = await searchService.getSearchResultsBySearch(this.state.search);\n            this.setState({results: results})\n        }, 500)\n    }\n}\n","const {Component} = wp.element;\n\nexport class Thumbnail extends Component {\n  render() {\n    return (\n      <div className='air-searchy-thumbnail-container'>\n        <div className='air-searchy-thumbnail-wrapper'>\n          <img className='air-searchy-thumbnail-image' src={this.props.thumbnail}/>\n        </div>\n      </div>\n    )\n  }\n}\n","const config = {\n    apiEndpoint: '/wp-json/react/v1/search/?s=',\n}\n\nexport default config;","const resultsFactory = {\n    RawSearchResultToSearchResult(RawSearchResult) {\n        return {\n            id: RawSearchResult.id,\n            url: RawSearchResult.url,\n            thumbnail: RawSearchResult.thumbnail,\n            title: RawSearchResult.title,\n            type: RawSearchResult.type,\n            typeLabel: RawSearchResult.type_label,\n        }\n    },\n}\n\nexport default resultsFactory","import resultFactory from \"./result.factory\";\n\nconst resultsFactory = {\n    RawSearchDataToSearchResults(RawSearchData) {\n        return RawSearchData.map((RawSearchResult) => {\n            return resultFactory.RawSearchResultToSearchResult(RawSearchResult)\n        });\n    },\n}\n\nexport default resultsFactory","import config from \"../config/api.config\";\n\nconst postRepository = {\n    async getSearchResultsBySearch(search) {\n        try {\n            const response = await fetch(`${config.apiEndpoint}${search}`);\n            return await response.json();\n        } catch (err) {\n            console.error(\"error : \", err)\n        }\n    }\n}\n\nexport default postRepository","import searchRepository from \"../repositories/search.repository\";\nimport resultsFactory from \"../factories/results.factory\";\n\nconst searchService = {\n    async getSearchResultsBySearch(search) {\n        const RawSearchData = await searchRepository.getSearchResultsBySearch(search);\n        const SearchResults = resultsFactory.RawSearchDataToSearchResults(RawSearchData);\n        return SearchResults;\n    }\n}\n\nexport default searchService;","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"element\"];","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    // Without the <br />, the skeleton lines will all run together if\n    // `width` is specified\n    for (let i = 0; i < count; i++) {\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: style, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_b = styleOptions.enableAnimation) !== null && _b !== void 0 ? _b : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {Searchbar} from \"./components/Searchbar\";\nimport \"./assets/style/app.css\";\n\nconst {render} = wp.element;\nconst root = document.getElementById('air-searchy');\n\nrender(\n    <Searchbar/>,\n    root\n);\n"],"names":["Component","wp","element","Thumbnail","Skeleton","Results","render","props","search","results","length","map","result","id","url","thumbnail","title","typeLabel","loading","searchService","Searchbar","constructor","state","handleChange","bind","target","value","setState","tempSearch","setTimeout","getSearchResultsBySearch","config","apiEndpoint","resultsFactory","RawSearchResultToSearchResult","RawSearchResult","type","type_label","resultFactory","RawSearchDataToSearchResults","RawSearchData","postRepository","response","fetch","json","err","console","error","searchRepository","SearchResults","root","document","getElementById"],"sourceRoot":""}